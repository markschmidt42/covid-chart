(function(t){function e(e){for(var n,o,s=e[0],l=e[1],u=e[2],h=0,p=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"43db":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("1321"),r=a.n(i),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[t._v(" Only show where current total deaths >= "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.minDeaths,expression:"inputs.minDeaths"}],staticClass:"small-number",attrs:{type:"number",min:"20"},domProps:{value:t.inputs.minDeaths},on:{input:function(e){e.target.composing||t.$set(t.inputs,"minDeaths",e.target.value)}}}),t._v(' and start showing "day 1" after '),"deaths"===t.inputs.firstDayMode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.firstDayDeathsOver,expression:"inputs.firstDayDeathsOver"}],staticClass:"small-number",attrs:{type:"number",min:"1"},domProps:{value:t.inputs.firstDayDeathsOver},on:{input:function(e){e.target.composing||t.$set(t.inputs,"firstDayDeathsOver",e.target.value)}}}):t._e(),"deathsPerMillion"===t.inputs.firstDayMode?a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.firstDayDeathsPerMillionOver,expression:"inputs.firstDayDeathsPerMillionOver"}],staticClass:"small-number",attrs:{type:"number",min:"1"},domProps:{value:t.inputs.firstDayDeathsPerMillionOver},on:{input:function(e){e.target.composing||t.$set(t.inputs,"firstDayDeathsPerMillionOver",e.target.value)}}}):t._e(),t._v(" ( "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.firstDayMode,expression:"inputs.firstDayMode"}],attrs:{type:"radio",value:"deaths"},domProps:{checked:t._q(t.inputs.firstDayMode,"deaths")},on:{change:function(e){return t.$set(t.inputs,"firstDayMode","deaths")}}}),t._v("deaths or "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputs.firstDayMode,expression:"inputs.firstDayMode"}],attrs:{type:"radio",value:"deathsPerMillion"},domProps:{checked:t._q(t.inputs.firstDayMode,"deathsPerMillion")},on:{change:function(e){return t.$set(t.inputs,"firstDayMode","deathsPerMillion")}}}),t._v("deaths per million ) "),a("br"),a("span",{attrs:{title:t.tooltips.scalePopulation}},[t._v(" Scale to Population: "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.inputs.scaleToCountryPopulation,expression:"inputs.scaleToCountryPopulation"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.inputs,"scaleToCountryPopulation",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Do not scale by population")]),a("option",{attrs:{value:"1"}},[t._v("Scale by Deaths per Million (population)")]),t._l(t.topDeaths,(function(e){return a("option",{key:e.country,domProps:{value:{population:t.countries.populations[e.country],name:e.country}}},[t._v(t._s(e.country)+" ("+t._s(t.countries.populations[e.country].toLocaleString())+")")])}))],2)]),a("div",{attrs:{id:"chart"}},[a("apexchart",{attrs:{type:"line",height:"650",options:t.chartOptions,series:t.series}})],1),t._m(0)])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[t._v(" As a business owner, I am very interested in predicting when we can SAFELY get back to work. This was built to help predict where we are at in the pandemic (beginning, middle or end). ")]),a("li",[t._v(" I was not 100% happy with the typical charts I was seeing: "),a("a",{attrs:{href:"?mode=deaths&startAfter=100&scale=0&deaths=1000"}},[t._v("HERE (no population scale, timelines starts after deaths >= 100)")])]),a("li",[t._v(" So I built this one "),a("a",{attrs:{href:"?mode=deathsPerMillion&startAfter=3&scale=1&deaths=3000"}},[t._v("HERE (scale to population (deaths per million), timelines starts after deaths per million >= 3)")])]),a("li",[t._v(" This chart uses death data because I feel it is more accurate. Case data is too inconsistent across countries/states. Testing is all ove the place. So even though death data can be anywhere from 14-21 days LAGGING. If we start seeing the rate slow down in deaths, we can be sure we are on the downtrend of cases. However, even though this is way more accurate, there are many reports that even the deaths are under reported. Some are dying and not getting tested, some are dying and not even making it to the hospital. Reports in Italy say it could be under reported by even double in some villages. ")]),a("li",[t._v("Many of the charts out there do not take into account population. So this one does that.")]),a("li",[t._v(" Many of the charts out there start at graphing the data after the first 100 deaths. But again, this DOES NOT take into account population so gives a false timeline comparison IMO. USA's first 100 deaths is nothing compared to Luxembourg's first 100 deaths. So instead, this looks at when they hit 3 deaths per million. Puts everyone at the same scale IMO. ")]),a("li",[t._v(" I also wanted to be able to say \"If it were to spread here (in the USA), at the same rate in does in say Italy or Spain or Iran, ... What would the death toll potentially look like?\" also \"If we were the same as another country, are we 'just getting started' or are we 'past the peak', ...?\" ")]),a("li",[t._v("TODO: get the height to fill the screen in a smart way")]),a("li",[t._v("TODO: Allow user to change between first X deaths per million or first X deaths (so they can see the difference)")]),a("li",[t._v('TODO: Allow user to change the "X" in the item above first 100 deaths, first 50 deaths or first 3/million or 5/million etc')])])}],c=(a("99af"),a("4de4"),a("4160"),a("d81d"),a("13d5"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("3ca3"),a("841c"),a("159b"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),h=a("bc3a"),p=a.n(h),d={populations:{China:1439323776,India:1380004385,USA:331002651,Indonesia:273523615,Pakistan:220892340,Brazil:212559417,Nigeria:206139589,Bangladesh:164689383,Russia:145934462,Mexico:128932753,Japan:126476461,Ethiopia:114963588,Philippines:109581078,Egypt:102334404,Vietnam:97338579,"DR Congo":89561403,Turkey:84339067,Iran:83992949,Germany:83783942,Thailand:69799978,UK:67886011,France:65273511,Italy:60461826,"Tanzania, United Republic of":59734218,"South Africa":59308690,Myanmar:54409800,Kenya:53771296,"S. Korea":51269185,Colombia:50882891,Spain:46754778,Uganda:45741007,Argentina:45195774,Algeria:43851044,Sudan:43849260,Ukraine:43733762,Iraq:40222493,Afghanistan:38928346,Poland:37846611,Canada:37742154,Morocco:36910560,"Saudi Arabia":34813871,Uzbekistan:33469203,Peru:32971854,Angola:32866272,Malaysia:32365999,Mozambique:31255435,Ghana:31072940,Yemen:29825964,Nepal:29136808,Venezuela:28435940,Madagascar:27691018,Cameroon:26545863,"Côte d'Ivoire":26378274,"North Korea":25778816,Australia:25499884,Niger:24206644,"Taiwan*":23816775,"Sri Lanka":21413249,"Burkina Faso":20903273,Mali:20250833,Romania:19237691,Malawi:19129952,Chile:19116201,Kazakhstan:18776707,Zambia:18383955,Guatemala:17915568,Ecuador:17643054,"Syrian Arab Republic":17500658,Netherlands:17134872,Senegal:16743927,Cambodia:16718965,Chad:16425864,Somalia:15893222,Zimbabwe:14862924,Guinea:13132795,Rwanda:12952218,Benin:12123200,Burundi:11890784,Tunisia:11818619,Bolivia:11673021,Belgium:11589623,Haiti:11402528,Cuba:11326616,"South Sudan":11193725,"Dominican Republic":10847910,Czechia:10708981,Greece:10423054,Jordan:10203134,Portugal:10196709,Azerbaijan:10139177,Sweden:10099265,Honduras:9904607,UAE:9890402,Hungary:9660351,Tajikistan:9537645,Belarus:9449323,Austria:9006398,"Papua New Guinea":8947024,Serbia:8737371,Israel:8655535,Switzerland:8654622,Togo:8278724,"Sierra Leone":7976983,"Hong Kong":7496981,Laos:7275560,Paraguay:7132538,Bulgaria:6948445,Libya:6871292,Lebanon:6825445,Nicaragua:6624554,Kyrgyzstan:6524195,"El Salvador":6486205,Turkmenistan:6031200,Singapore:5850342,Denmark:5792202,Finland:5540720,"Congo (Kinshasa)":5518087,Slovakia:5459642,Norway:5421241,Oman:5106626,"State of Palestine":5101414,"Costa Rica":5094118,Liberia:5057681,Ireland:4937786,"Central African Republic":4829767,"New Zealand":4822233,Mauritania:4649658,Panama:4314767,Kuwait:4270571,Croatia:4105267,"Moldova, Republic of":4033963,Georgia:3989167,Eritrea:3546421,Uruguay:3473730,"Bosnia and Herzegovina":3280819,Mongolia:3278290,Armenia:2963243,Jamaica:2961167,Qatar:2881053,Albania:2877797,"Puerto Rico":2860853,Lithuania:2722289,Namibia:2540905,Gambia:2416668,Botswana:2351627,Gabon:2225734,Lesotho:2142249,Macedonia:2083374,Slovenia:2078938,GuineaBissau:1968001,Latvia:1886198,Bahrain:1701575,"Equatorial Guinea":1402985,"Trinidad and Tobago":1399488,Estonia:1326535,TimorLeste:1318445,Mauritius:1271768,Cyprus:1207359,Eswatini:1160164,Djibouti:988e3,Fiji:896445,"Réunion":895312,Comoros:869601,Guyana:786552,Bhutan:771608,"Solomon Islands":686884,Macao:649335,Montenegro:628066,Luxembourg:625978,"Western Sahara":597339,Suriname:586632,"Cabo Verde":555987,Maldives:540544,Malta:441543,Brunei:437479,Guadeloupe:400124,Belize:397628,Bahamas:393244,Martinique:375265,Iceland:341243,Vanuatu:307145,"French Guiana":298682,Barbados:287375,"New Caledonia":285498,"French Polynesia":280908,Mayotte:272815,"Sao Tome & Principe":219159,Samoa:198414,"Saint Lucia":183627,"Channel Islands":173863,Guam:168775,"Curaçao":164093,Kiribati:119449,Micronesia:115023,Grenada:112523,"St. Vincent & Grenadines":110940,Aruba:106766,Tonga:105695,"U.S. Virgin Islands":104425,Seychelles:98347,"Antigua and Barbuda":97929,"Isle of Man":85033,Andorra:77265,Dominica:71986,"Cayman Islands":65722,Bermuda:62278,"Marshall Islands":59190,"Northern Mariana Islands":57559,Greenland:56770,"American Samoa":55191,"Saint Kitts & Nevis":53199,"Faeroe Islands":48863,"Sint Maarten":42876,"Turks and Caicos":38717,"Saint Martin":38666,Liechtenstein:38128,"San Marino":33931,"British Virgin Islands":30231,"Caribbean Netherlands":26223,"Cook Islands":17564,Tuvalu:11792,Bosnia:3280819,Monaco:39242,"Diamond Princess":3711,"MS Zaandam":1829,"West Bank and Gaza":5101414,Kosovo:1810463,Burma:54409800}},f="https://corona.lmao.ninja/v2/historical",m={deaths:"deaths",deathsPerMillion:"deathsPerMillion"},y={name:"HelloWorld",data:function(){return{historical:[],lastDateName:"4/1/20",refreshDataEveryMiliseconds:72e5,inputs:{minDeaths:3e3,scaleToCountryPopulation:"1",firstDayMode:m.deathsPerMillion,firstDayDeathsOver:100,firstDayDeathsPerMillionOver:3},tooltips:{scalePopulation:"ex: Set it to USA. Then you can look at Italy or Spain and see what the death toll would be if the same % of population that died in Italy, were to die in the USA. So, if you think we are going to follow in Italy's footsteps, you can set it to USA, and look at Italy's numbers."},raw:{historical:null},countries:{populations:d.populations},series:[],chartOptions:{customData:{test:100},chart:{type:"line",zoom:{enabled:!0}},dataLabels:{enabled:!1},stroke:{curve:"straight"},title:{text:"Total Deaths after X Deaths"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},tooltip:{x:{formatter:function(t){return"".concat(t," days after")}},y:{formatter:function(t){return"".concat(t.toLocaleString())}}}}}},props:{msg:String},watch:{inputs:{deep:!0,handler:function(){this.updateSeries()}}},methods:{dataIsExpired:function(){if(!localStorage.historicalExpired)return!0;var t=Date.parse(localStorage.historicalExpired),e=Date.parse(new Date);return e-t>this.refreshDataEveryMiliseconds},getHistoricalData:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!localStorage.historical||t.dataIsExpired()){e.next=4;break}t.raw.historical=JSON.parse(localStorage.historical),e.next=6;break;case 4:return e.next=6,p.a.get(f).then((function(e){t.raw.historical=e.data,localStorage.historical=JSON.stringify(e.data),localStorage.historicalExpired=new Date}));case 6:case"end":return e.stop()}}),e)})))()},cleanUpData:function(t){for(var e=[],a=[],n=0;n<t.length;n+=1)e[t[n].country]||(e[t[n].country]=!0,a.push({country:t[n].country,deaths:this.getDeathsByCountry(t,t[n].country)}));return a},getDeathsByCountry:function(t,e){var a=t.filter((function(t){return t.country===e}));if(1===a.length)return a[0].timeline.deaths;for(var n=a.map((function(t){return t.timeline.deaths})),i={},r=Object.keys(n[0]),o=function(t){var e=r[t];e&&(i[e]=n.map((function(t){return t[e]})).reduce((function(t,e){return t+e})))},s=0;s<=r.length;s+=1)o(s);return i},getTopDeaths:function(){var t=this;return this.historical.filter((function(e){return e.deaths[t.lastDateName]>=t.inputs.minDeaths})).sort((function(t,e){return e.country-t.country}))},updateLabels:function(){var t="(after having ".concat(this.inputs.firstDayDeathsOver," deaths)");this.inputs.firstDayMode===m.deathsPerMillion&&(t="(after having ".concat(this.inputs.firstDayDeathsPerMillionOver," deaths per million)"));var e="Total Deaths ".concat(t);if("0"!==this.inputs.scaleToCountryPopulation)if("1"===this.inputs.scaleToCountryPopulation)e="Deaths per Million: relative to population ".concat(t);else{var a=this.inputs.scaleToCountryPopulation.name;e="Deaths per country as if the country was the size of ".concat(a," ")+"(this simulates if the spread was the same in each country, but had the population of ".concat(a,". ")+"This might tell you what the ".concat(a," could be facing.)")}this.chartOptions={title:{text:e}}},updateSeries:function(){var t=this;clearTimeout(window.timersUpdate),window.timersUpdate=setTimeout((function(){t.updateLabels();var e=t.getTopDeaths(),a=[];e.forEach((function(e){var n=1,i=t.countries.populations[e.country];"0"!==t.inputs.scaleToCountryPopulation&&("1"===t.inputs.scaleToCountryPopulation?(n=t.countries.populations[e.country],t.countries.populations[e.country]):n=t.inputs.scaleToCountryPopulation.population/t.countries.populations[e.country]);for(var r=Object.keys(e.deaths),o=[],s=0;s<=r.length;s+=1){var l=r[s],u=e.deaths[l],c=!1;if(t.inputs.firstDayMode===m.deathsPerMillion?t.getDeathsPerMillion(u,i)>=t.inputs.firstDayDeathsPerMillionOver&&(c=!0):c=u>=t.inputs.firstDayDeathsOver,c)if("1"===t.inputs.scaleToCountryPopulation){var h=t.getDeathsPerMillion(u,i);o.push(Math.round(h))}else o.push(Math.round(u*n))}a.push({name:e.country,data:o,color:"red"})})),t.series=a}),100)},getDeathsPerMillion:function(t,e){return t/e*1e6},initValues:function(){this.lastDateName=this.getLastDate()},initInputs:function(){var t=new URLSearchParams(window.location.search);t.has("mode")&&(t.get("mode")===m.deaths?this.inputs.firstDayMode=m.deaths:this.inputs.firstDayMode=m.deathsPerMillion),t.has("startAfter")&&parseInt(t.get("startAfter"),10)&&(this.inputs.firstDayMode===m.deaths?this.inputs.firstDayDeathsOver=parseInt(t.get("startAfter"),10):this.inputs.firstDayDeathsPerMillionOver=parseInt(t.get("startAfter"),10)),t.has("deaths")&&parseInt(t.get("deaths"),10)&&(this.inputs.minDeaths=parseInt(t.get("deaths"),10)),t.has("scale")&&(this.inputs.scaleToCountryPopulation=t.get("scale"))},getLastDate:function(){var t=new Date,e=new Date;e.setDate(t.getDate()-1);var a=e.getDate(),n=e.getMonth()+1,i=String(e.getFullYear()).substr(-2);return"".concat(n,"/").concat(a,"/").concat(i)}},computed:{topDeaths:function(){return this.getTopDeaths()}},created:function(){var t=this;this.initValues(),this.initInputs(),this.getHistoricalData().then((function(){t.historical=t.cleanUpData(t.raw.historical),t.updateSeries()}))}},v=y,g=(a("64a7"),a("2877")),b=Object(g["a"])(v,l,u,!1,null,"22088c29",null),D=b.exports,w={name:"App",components:{HelloWorld:D}},M=w,S=(a("5c0b"),Object(g["a"])(M,o,s,!1,null,null,null)),P=S.exports;n["a"].use(r.a),n["a"].component("apexchart",r.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(P)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"64a7":function(t,e,a){"use strict";var n=a("43db"),i=a.n(n);i.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.c234a2c4.js.map